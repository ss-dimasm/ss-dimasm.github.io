import{x as p,k as l,g as u,h as c,i as m,r as g}from"./app-fc3be005.js";import{p as A}from"./middleware-a8d06d07.js";import"./index-e8b020c1.js";import"./elements-7fcf5525.js";import{Q as E}from"./queries-keys-1e9a6485.js";import{A as f,U as h}from"./axios-7a17aed4.js";import{i as T}from"./index-f4612fa3.js";const S="PRODARWSetupConfiguration",_={$schema:"http://json-schema.org/draft-04/schema#",type:"object",properties:{tailoredQuestions:{type:"object",properties:{contact:{type:"object",properties:{name:{type:"string"},contactDetail:{type:"string"},address:{type:"string"},marketingConsent:{type:"string"}},additionalProperties:!1},applicant:{type:"object",properties:{marketingMode:{type:"string"},applicantStatus:{type:"string"},preferredAddress:{type:"string"},budget:{type:"string"},type:{type:"string"},situation:{type:"string"},specialFeatures:{type:"string"},style:{type:"string"},age:{type:"string"},parking:{type:"string"},locality:{type:"string"},propertyRooms:{type:"string"},tenure:{type:"string"},size:{type:"string"},notes:{type:"string"}},additionalProperties:!1}},additionalProperties:!1},defaultOptions:{type:"object",properties:{rentFrequency:{enum:[null,"weekly","fourWeekly","monthly","annually"]}},additionalProperties:!1},stepsHeader:{type:"object",properties:{stepOne:{type:"string"},stepTwo:{type:"string"},stepThree:{type:"string"},stepFour:{type:"string"}},additionalProperties:!1}},additionalProperties:!1},P={name:S,model:_},y={contact:{name:"Can I take your name please?",contactDetail:"What's the best number and email address to reach you on?",address:"Can I take your current address?",marketingConsent:"Let's keep in touch! Please select the appropriate marketing consent"},applicant:{marketingMode:"Are you looking to buy or rent a property?",applicantStatus:"Let us understand your current status.",preferredAddress:"Tell me about your property's preferred address and area.",budget:"What is your budget?",type:"Tell me about the type of property you are looking for.",situation:"What type of outdoor space do you specifically require?",specialFeatures:'Tell me about the "Must Haves" requirements in the property you are looking for.',style:"Tell me about the style of property you are looking for.",age:"Tell me about the age of property you would consider.",parking:"Please confirm the parking requirements.",locality:"Tell me about your property's preferred locality.",propertyRooms:"Please select the room options.",tenure:"Please select the tenure of the property are you looking for.",size:"Is there a minimum size of the property as part of your requirements?",notes:"Are there any additional requirements? If so, please add further information below."}},R={rentFrequency:null},d={stepOne:"Contact Information",stepTwo:"Applicant Status",stepThree:"Requirements",stepFour:"Requirement Notes"},q={tailoredQuestions:y,defaultOptions:R,stepsHeader:d},s={FOUNDATION_DEVELOPER:"FoundationsDeveloper",REAPIT_USER_ADMIN:"ReapitUserAdmin",MARKETPLACE_ADMIN:"MarketplaceAdmin"},C=[s.REAPIT_USER_ADMIN,s.MARKETPLACE_ADMIN,s.FOUNDATION_DEVELOPER],I="metadata-schema-storage",D=t=>({tailoredQuestions:y,setTailoredQuestions:r=>t(()=>({tailoredQuestions:r}))}),O=t=>({stepsHeader:d,setStepsHeader:r=>t(()=>({stepsHeader:r}))}),Q=p()((...t)=>({...D(...t),...O(...t)})),H=p()(A(t=>({isMetadataSchemaReady:!1,setIsMetadataSchemaReady:r=>t(()=>({isMetadataSchemaReady:r}))}),{name:I})),b=async(t,r)=>{try{const{data:e}=await f.get(h.METADATA,{params:t,headers:{Authorization:`Bearer ${r.accessToken}`}});return e}catch(e){throw T(e)?l(e):new Error(e)}},j=(t={})=>{var o;const r=u(),{connectSession:e}=c(r);return m({queryKey:E.ARW_ADMIN_SETUP_KEYS.byOffice((o=e==null?void 0:e.loginIdentity)==null?void 0:o.officeId),queryFn:async()=>{var n,i;try{const a=await b({entityType:P.name,entityId:[(n=e==null?void 0:e.loginIdentity)==null?void 0:n.officeId]},e);return((i=a==null?void 0:a._embedded)==null?void 0:i[0])??null}catch(a){throw g(a)?a:new Error(a)}},enabled:!!e,staleTime:60*60*3,cacheTime:60*60*3,...t})};export{C as A,y as D,s as U,d as a,q as b,Q as c,H as d,P as m,j as u};
