import{a,j as e,F as ee}from"./index-b3f50da9.js";import{u as Ie,a as $,b as Oe,E as Be,d as da,c as Ze,e as Qe,R as Xe,f as se,n as ve,N as oa}from"./app-1088c2df.js";import{s as ca,r as P,i as ma,O as Me,k as ie,H as B,l as c,n as o,o as x,p as ua,h as ea,U as ha,J as aa,x as Ne,y as _,$ as va,e as Pe,q as re,j as O,t as N,v as ne,z as g,A as pe,B as ae,D as me,V as ge,E as fe,I as pa,K as ga,Y as fa,M as ya,P as L,F as w,u as T,Q as E,C as G,S as Sa,T as ba,X as Ca,_ as Aa,a0 as ke,a1 as $e,a2 as Ye,f as Na,a3 as Pa,a4 as Ia}from"./elements-7fcf5525.js";import{n as ue}from"./index-6d471c01.js";import{c as Ce}from"./index-8f0c1425.js";import{c as Le}from"./index-fa19f396.js";import{u as Ee}from"./index.esm-70abc844.js";import{c as ye,a as u,b as Se,o as na}from"./index.esm-c689e26d.js";import{u as Ge}from"./index-073cf7c6.js";const f={name:"hasNoSpecialChars",message:"Special characters are not permitted",test:r=>!!(!r||/^[\w\-\sÂ£$@%&*()?!%/=+'"~^,.#;:]+$/.test(r)&&/^((?!javascript).)*$/.test(r.toLowerCase()))},X=ca("div")({name:"DisplayChip",class:"d48t7rm",propsAsIs:!1}),xe={CONTACTS:"/contacts/*",CONTACTS_EDIT:"/contacts/:contactId/*",CONTACTS_EDIT_OVERVIEW:"/contacts/:contactId/view",CONTACTS_EDIT_ADDRESSES:"/contacts/:contactId/addresses",CONTACTS_EDIT_PERSONAL:"/contacts/:contactId/personal",CONTACTS_EDIT_OFFICE:"/contacts/:contactId/office",CONTACTS_EDIT_COMS:"/contacts/:contactId/communications",CONTACTS_VIEW:"/contacts/:contactId/detail",CONTACTS_LIST:"/contacts/list",CONTACTS_NEW:"/contacts/new"};var Ae=Ma;function Ma(r,d,n){var t=null,l=null,i=function(){t&&(clearTimeout(t),l=null,t=null)},s=function(){var m=l;i(),m&&m()},v=function(){if(!d)return r.apply(this,arguments);var m=this,h=arguments,p=n&&!t;if(i(),l=function(){r.apply(m,h)},t=setTimeout(function(){if(t=null,!p){var A=l;return l=null,A()}},d),p)return l()};return v.cancel=i,v.flush=s,v}const ka=(r,d,n)=>()=>{r(),n(d)},wa=(r,d,n,t,l)=>async()=>{await n({active:!l})&&(r(),d(),t(null))},Ta=(r,d)=>()=>{const n=d(Ae(r,500));return()=>n.unsubscribe()},Oa=()=>{var F,Y;const[r,d]=P.useState(1),[n,t]=P.useState(null),[l,i]=P.useState({}),s=Ie(),{Modal:v,openModal:m,closeModal:h}=ma(),{register:p,watch:A}=Ee({mode:"onChange"});P.useEffect(Ta(i,A),[]);const[y,,{isLoading:b},{refetch:S}]=$({path:"/contacts",queryParams:{...l,pageNumber:r,pageSize:12}}),[M,,,{isLoading:I}]=Oe({path:`/contacts/${n==null?void 0:n.id}`,method:"PATCH",headers:{"if-match":(n==null?void 0:n._eTag)??""},successMessage:`Contact successfully ${n!=null&&n.active?"deactivated":"activated"}`});return a(Be,{children:[e(Me,{children:"Contacts List"}),e("form",{children:a(ie,{className:B,children:[e(c,{children:e(o,{...p("name"),label:"Contact Name",type:"search",icon:"searchSystem",placeholder:"Search name"})}),e(c,{children:e(o,{...p("address"),label:"Contact Address",type:"search",icon:"searchSystem",placeholder:"Search address"})}),e(c,{children:e(o,{...p("email"),label:"Contact Email",type:"search",icon:"searchSystem",placeholder:"Search email"})}),a(c,{children:[e(x,{children:"Active Contacts"}),e(ua,{...p("active"),hasGreyBg:!0,options:[{id:"option-active-all",value:"",text:"All",isChecked:!0},{id:"option-active-true",value:"true",text:"Active",isChecked:!1},{id:"option-active-false",value:"false",text:"Inactive",isChecked:!1}]})]})]})}),b&&e(ea,{}),(F=y==null?void 0:y._embedded)!=null&&F.length?a(ee,{children:[e(ha,{className:B,rows:y._embedded.map(j=>{const{id:K,title:z,forename:q,surname:V,email:W,primaryAddress:J,mobilePhone:Z,active:C}=j;return{cells:[{label:"Contact Name",value:Le(z,q,V),icon:"applicantInfographic",cellHasDarkText:!0,narrowTable:{showLabel:!0}},{label:"Contact Email",icon:"mailInfographic",value:W??"-",narrowTable:{showLabel:!0}},{label:"Contact Mobile Phone",icon:"phoneInfographic",value:Z??"-",narrowTable:{showLabel:!0}},{label:"Contact Address",icon:"houseInfographic",value:Ce(J),narrowTable:{showLabel:!0}},{label:"Contact Active",value:a(ee,{children:[e(aa,{intent:C?"success":"danger"})," ",C?"Active":"Inactive"]}),narrowTable:{showLabel:!0}}],expandableContent:{content:e(ee,{children:a(Ne,{alignment:"center",children:[e(_,{onClick:ue(s,`/contacts/${K}/view`),intent:"primary",children:"View Contact"}),e(_,{onClick:ue(s,`/contacts/${K}/personal`),intent:"secondary",children:"Edit Contact"}),e(_,{onClick:ka(m,j,t),intent:C?"danger":"secondary",children:C?"Deactivate":"Activate"})]})})}}})}),e("div",{className:B,children:e(va,{callback:d,currentPage:r,numberPages:Math.ceil(((y==null?void 0:y.totalCount)??1)/12)})}),a(v,{title:"Deactivate Contact",children:[a(Pe,{className:re,isExpanded:!0,isFullWidth:!0,isInline:!0,intent:n!=null&&n.active?"danger":"secondary",children:["Are you sure you want to ",n!=null&&n.active?"deactivate":"activate"," this contact?"]}),a(Ne,{alignment:"center",children:[e(_,{onClick:h,intent:"low",children:"Cancel"}),e(_,{onClick:wa(h,S,M,t,n==null?void 0:n.active),disabled:I,intent:n!=null&&n.active?"danger":"secondary",children:n!=null&&n.active?"Deactivate":"Activate"})]})]})]}):!b&&y&&!((Y=y._embedded)!=null&&Y.length)?e(Pe,{className:B,isInline:!0,isExpanded:!0,isFullWidth:!0,intent:"secondary",children:"No contacts found for your search terms, please try again."}):null]})},sa=ye().shape({title:u().trim(),forename:u().trim().test(f),surname:u().trim().required("Surname is a required field").test(f),dateOfBirth:u().trim(),homePhone:u().trim().test(f),workPhone:u().trim().test(f),mobilePhone:u().trim().test(f),email:u().trim().email("Must be a valid email address"),marketingConsent:u().trim().required("Marketing consent is a required field").test(f),communicationPreferenceLetter:Se().required("Communication preference letter is a required field"),communicationPreferenceEmail:Se().required("Communication preference email is a required field"),communicationPreferencePhone:Se().required("Communication preference phone is a required field"),communicationPreferenceSMS:Se().required("Communication preference SMS is a required field"),primaryAddress:ye().shape({type:u().trim().test(f),buildingName:u().trim().test(f),buildingNumber:u().trim().test(f),line1:u().trim().test(f),line2:u().trim().test(f),line3:u().trim().test(f),line4:u().trim().test(f),postcode:u().trim().test(f),countryId:u().trim()}),secondaryAddress:ye().shape({type:u().trim().test(f),buildingName:u().trim().test(f),buildingNumber:u().trim().test(f),line1:u().trim().test(f),line2:u().trim().test(f),line3:u().trim().test(f),line4:u().trim().test(f),postcode:u().trim().test(f),countryId:u().trim()}),workAddress:ye().shape({type:u().trim().test(f),buildingName:u().trim().test(f),buildingNumber:u().trim().test(f),line1:u().trim().test(f),line2:u().trim().test(f),line3:u().trim().test(f),line4:u().trim().test(f),postcode:u().trim().test(f),countryId:u().trim()}),source:u().trim().test({name:"isValidSource",message:"Only one source can be selected",test:r=>r?r.split(",").length<=1:!0}),categoryIds:u().trim(),negotiatorIds:u().trim().required("At least one negotiator must be supplied"),officeIds:u().trim().required("At least one office must be supplied")}),Ba=["Mr","Mrs","Ms","Miss","Mx","Dr","Prof"],ia=({form:r})=>{var t,l,i,s,v,m,h;const{register:d,formState:{errors:n}}=r;return a(ee,{children:[e("div",{className:B,children:e(O,{hasGreyText:!0,hasNoMargin:!0,children:"Provide us with some basic personal information about your contact."})}),a(ie,{className:N,children:[e(c,{children:a(o,{children:[a(ne,{...d("title"),children:[e("option",{value:"",children:"None selected"},"default-option"),Ba.map(p=>e("option",{value:p,children:p},p))]}),e(x,{children:"Please select a title"}),((t=n.title)==null?void 0:t.message)&&e(g,{message:n.title.message})]})}),a(c,{children:[e(o,{label:"First Name",placeholder:"Please enter a first name",...d("forename"),icon:(l=n==null?void 0:n.forename)!=null&&l.message?"asteriskSystem":void 0,intent:"danger"}),((i=n.forename)==null?void 0:i.message)&&e(g,{message:n.forename.message})]}),a(c,{children:[e(o,{label:"Surname",placeholder:"Please enter a surname",...d("surname"),icon:(s=n==null?void 0:n.surname)!=null&&s.message?"asteriskSystem":void 0,intent:"danger"}),((v=n.surname)==null?void 0:v.message)&&e(g,{message:n.surname.message})]}),a(c,{children:[e(o,{label:"Date of birth",type:"date",...d("dateOfBirth"),max:da().format("YYYY-MM-DD"),icon:(m=n==null?void 0:n.dateOfBirth)!=null&&m.message?"asteriskSystem":void 0,intent:"danger"}),((h=n.dateOfBirth)==null?void 0:h.message)&&e(g,{message:n.dateOfBirth.message})]})]})]})},La=[{value:"grant",name:"Granted"},{value:"deny",name:"Denied"},{value:"notAsked",name:"Not Asked"}],ra=({form:r})=>{var t,l,i,s,v,m,h,p,A;const{register:d,formState:{errors:n}}=r;return a(ee,{children:[e("div",{className:B,children:e(O,{hasGreyText:!0,hasNoMargin:!0,children:"Provide here the communication details and marketing preferences of your contact."})}),a(ie,{className:N,children:[a(c,{children:[e(o,{label:"Home Phone",placeholder:"Please enter a telephone number",...d("homePhone"),icon:(t=n==null?void 0:n.homePhone)!=null&&t.message?"asteriskSystem":void 0,intent:"danger"}),((l=n.homePhone)==null?void 0:l.message)&&e(g,{message:n.homePhone.message})]}),a(c,{children:[e(o,{label:"Work Phone",placeholder:"Please enter a telephone number",...d("workPhone"),icon:(i=n==null?void 0:n.workPhone)!=null&&i.message?"asteriskSystem":void 0,intent:"danger"}),((s=n.workPhone)==null?void 0:s.message)&&e(g,{message:n.workPhone.message})]}),a(c,{children:[e(o,{label:"Mobile Phone",placeholder:"Please enter a telephone number",...d("mobilePhone"),icon:(v=n==null?void 0:n.mobilePhone)!=null&&v.message?"asteriskSystem":void 0,intent:"danger"}),((m=n.mobilePhone)==null?void 0:m.message)&&e(g,{message:n.mobilePhone.message})]}),a(c,{children:[e(o,{label:"Email",type:"email",placeholder:"Please enter an email address",...d("email"),icon:(h=n==null?void 0:n.email)!=null&&h.message?"asteriskSystem":void 0,intent:"danger"}),((p=n.email)==null?void 0:p.message)&&e(g,{message:n.email.message})]}),a(c,{children:[a(o,{children:[a(ne,{...d("marketingConsent"),children:[e("option",{value:"",children:"None selected"},"default-option"),La.map(({name:y,value:b})=>e("option",{value:b,children:y},b))]}),e(x,{children:"Marketing Consent"})]}),((A=n.marketingConsent)==null?void 0:A.message)&&e(g,{message:n.marketingConsent.message})]}),e(c,{children:a(o,{children:[a(pe,{...d("communicationPreferenceLetter"),id:"com-pref-letter",children:[e(ae,{children:"On"}),e(ae,{children:"Off"})]}),e(x,{children:"Communicate Preference Letter"})]})}),e(c,{children:a(o,{children:[a(pe,{...d("communicationPreferenceEmail"),id:"com-pref-email",children:[e(ae,{children:"On"}),e(ae,{children:"Off"})]}),e(x,{children:"Communicate Preference Email"})]})}),e(c,{children:a(o,{children:[a(pe,{...d("communicationPreferencePhone"),id:"com-pref-phone",children:[e(ae,{children:"On"}),e(ae,{children:"Off"})]}),e(x,{children:"Communicate Preference Phone"})]})}),e(c,{children:a(o,{children:[a(pe,{...d("communicationPreferenceSMS"),id:"com-pref-sms",children:[e(ae,{children:"On"}),e(ae,{children:"Off"})]}),e(x,{children:"Communicate Preference SMS"})]})})]})]})},we=[{value:"GB",name:"United Kingdom"},{value:"AF",name:"Afghanistan"},{value:"AX",name:"Ãland Islands"},{value:"AL",name:"Albania"},{value:"DZ",name:"Algeria"},{value:"AS",name:"American Samoa"},{value:"AD",name:"Andorra"},{value:"AO",name:"Angola"},{value:"AI",name:"Anguilla"},{value:"AQ",name:"Antarctica"},{value:"AG",name:"Antigua and Barbuda"},{value:"AR",name:"Argentina"},{value:"AM",name:"Armenia"},{value:"AW",name:"Aruba"},{value:"AU",name:"Australia"},{value:"AT",name:"Austria"},{value:"AZ",name:"Azerbaijan"},{value:"BS",name:"Bahamas"},{value:"BH",name:"Bahrain"},{value:"BD",name:"Bangladesh"},{value:"BB",name:"Barbados"},{value:"BY",name:"Belarus"},{value:"BE",name:"Belgium"},{value:"BZ",name:"Belize"},{value:"BJ",name:"Benin"},{value:"BM",name:"Bermuda"},{value:"BT",name:"Bhutan"},{value:"BO",name:"Bolivia, Plurinational State of"},{value:"BQ",name:"Bonaire, Sint Eustatius and Saba"},{value:"BA",name:"Bosnia and Herzegovina"},{value:"BW",name:"Botswana"},{value:"BV",name:"Bouvet Island"},{value:"BR",name:"Brazil"},{value:"IO",name:"British Indian Ocean Territory"},{value:"BN",name:"Brunei Darussalam"},{value:"BG",name:"Bulgaria"},{value:"BF",name:"Burkina Faso"},{value:"BI",name:"Burundi"},{value:"KH",name:"Cambodia"},{value:"CM",name:"Cameroon"},{value:"CA",name:"Canada"},{value:"CV",name:"Cape Verde"},{value:"KY",name:"Cayman Islands"},{value:"CF",name:"Central African Republic"},{value:"TD",name:"Chad"},{value:"CL",name:"Chile"},{value:"CN",name:"China"},{value:"CX",name:"Christmas Island"},{value:"CC",name:"Cocos (Keeling) Islands"},{value:"CO",name:"Colombia"},{value:"KM",name:"Comoros"},{value:"CG",name:"Congo"},{value:"CD",name:"Congo, the Democratic Republic of the"},{value:"CK",name:"Cook Islands"},{value:"CR",name:"Costa Rica"},{value:"CI",name:"CÃ´te d'Ivoire"},{value:"HR",name:"Croatia"},{value:"CU",name:"Cuba"},{value:"CW",name:"CuraÃ§ao"},{value:"CY",name:"Cyprus"},{value:"CZ",name:"Czech Republic"},{value:"DK",name:"Denmark"},{value:"DJ",name:"Djibouti"},{value:"DM",name:"Dominica"},{value:"DO",name:"Dominican Republic"},{value:"EC",name:"Ecuador"},{value:"EG",name:"Egypt"},{value:"SV",name:"El Salvador"},{value:"GQ",name:"Equatorial Guinea"},{value:"ER",name:"Eritrea"},{value:"EE",name:"Estonia"},{value:"ET",name:"Ethiopia"},{value:"FK",name:"Falkland Islands (Malvinas)"},{value:"FO",name:"Faroe Islands"},{value:"FJ",name:"Fiji"},{value:"FI",name:"Finland"},{value:"FR",name:"France"},{value:"GF",name:"French Guiana"},{value:"PF",name:"French Polynesia"},{value:"TF",name:"French Southern Territories"},{value:"GA",name:"Gabon"},{value:"GM",name:"Gambia"},{value:"GE",name:"Georgia"},{value:"DE",name:"Germany"},{value:"GH",name:"Ghana"},{value:"GI",name:"Gibraltar"},{value:"GR",name:"Greece"},{value:"GL",name:"Greenland"},{value:"GD",name:"Grenada"},{value:"GP",name:"Guadeloupe"},{value:"GU",name:"Guam"},{value:"GT",name:"Guatemala"},{value:"GG",name:"Guernsey"},{value:"GN",name:"Guinea"},{value:"GW",name:"Guinea-Bissau"},{value:"GY",name:"Guyana"},{value:"HT",name:"Haiti"},{value:"HM",name:"Heard Island and McDonald Islands"},{value:"VA",name:"Holy See (Vatican City State)"},{value:"HN",name:"Honduras"},{value:"HK",name:"Hong Kong"},{value:"HU",name:"Hungary"},{value:"IS",name:"Iceland"},{value:"IN",name:"India"},{value:"ID",name:"Indonesia"},{value:"IR",name:"Iran, Islamic Republic of"},{value:"IQ",name:"Iraq"},{value:"IE",name:"Ireland"},{value:"IM",name:"Isle of Man"},{value:"IL",name:"Israel"},{value:"IT",name:"Italy"},{value:"JM",name:"Jamaica"},{value:"JP",name:"Japan"},{value:"JE",name:"Jersey"},{value:"JO",name:"Jordan"},{value:"KZ",name:"Kazakhstan"},{value:"KE",name:"Kenya"},{value:"KI",name:"Kiribati"},{value:"KP",name:"Korea, Democratic People's Republic of"},{value:"KR",name:"Korea, Republic of"},{value:"KW",name:"Kuwait"},{value:"KG",name:"Kyrgyzstan"},{value:"LA",name:"Lao People's Democratic Republic"},{value:"LV",name:"Latvia"},{value:"LB",name:"Lebanon"},{value:"LS",name:"Lesotho"},{value:"LR",name:"Liberia"},{value:"LY",name:"Libya"},{value:"LI",name:"Liechtenstein"},{value:"LT",name:"Lithuania"},{value:"LU",name:"Luxembourg"},{value:"MO",name:"Macao"},{value:"MK",name:"Macedonia, the former Yugoslav Republic of"},{value:"MG",name:"Madagascar"},{value:"MW",name:"Malawi"},{value:"MY",name:"Malaysia"},{value:"MV",name:"Maldives"},{value:"ML",name:"Mali"},{value:"MT",name:"Malta"},{value:"MH",name:"Marshall Islands"},{value:"MQ",name:"Martinique"},{value:"MR",name:"Mauritania"},{value:"MU",name:"Mauritius"},{value:"YT",name:"Mayotte"},{value:"MX",name:"Mexico"},{value:"FM",name:"Micronesia, Federated States of"},{value:"MD",name:"Moldova, Republic of"},{value:"MC",name:"Monaco"},{value:"MN",name:"Mongolia"},{value:"ME",name:"Montenegro"},{value:"MS",name:"Montserrat"},{value:"MA",name:"Morocco"},{value:"MZ",name:"Mozambique"},{value:"MM",name:"Myanmar"},{value:"NA",name:"Namibia"},{value:"NR",name:"Nauru"},{value:"NP",name:"Nepal"},{value:"NL",name:"Netherlands"},{value:"NC",name:"New Caledonia"},{value:"NZ",name:"New Zealand"},{value:"NI",name:"Nicaragua"},{value:"NE",name:"Niger"},{value:"NG",name:"Nigeria"},{value:"NU",name:"Niue"},{value:"NF",name:"Norfolk Island"},{value:"MP",name:"Northern Mariana Islands"},{value:"NO",name:"Norway"},{value:"OM",name:"Oman"},{value:"PK",name:"Pakistan"},{value:"PW",name:"Palau"},{value:"PS",name:"Palestinian Territory, Occupied"},{value:"PA",name:"Panama"},{value:"PG",name:"Papua New Guinea"},{value:"PY",name:"Paraguay"},{value:"PE",name:"Peru"},{value:"PH",name:"Philippines"},{value:"PN",name:"Pitcairn"},{value:"PL",name:"Poland"},{value:"PT",name:"Portugal"},{value:"PR",name:"Puerto Rico"},{value:"QA",name:"Qatar"},{value:"RE",name:"RÃ©union"},{value:"RO",name:"Romania"},{value:"RU",name:"Russian Federation"},{value:"RW",name:"Rwanda"},{value:"BL",name:"Saint BarthÃ©lemy"},{value:"SH",name:"Saint Helena, Ascension and Tristan da Cunha"},{value:"KN",name:"Saint Kitts and Nevis"},{value:"LC",name:"Saint Lucia"},{value:"MF",name:"Saint Martin (French part)"},{value:"PM",name:"Saint Pierre and Miquelon"},{value:"VC",name:"Saint Vincent and the Grenadines"},{value:"WS",name:"Samoa"},{value:"SM",name:"San Marino"},{value:"ST",name:"Sao Tome and Principe"},{value:"SA",name:"Saudi Arabia"},{value:"SN",name:"Senegal"},{value:"RS",name:"Serbia"},{value:"SC",name:"Seychelles"},{value:"SL",name:"Sierra Leone"},{value:"SG",name:"Singapore"},{value:"SX",name:"Sint Maarten (Dutch part)"},{value:"SK",name:"Slovakia"},{value:"SI",name:"Slovenia"},{value:"SB",name:"Solomon Islands"},{value:"SO",name:"Somalia"},{value:"ZA",name:"South Africa"},{value:"GS",name:"South Georgia and the South Sandwich Islands"},{value:"SS",name:"South Sudan"},{value:"ES",name:"Spain"},{value:"LK",name:"Sri Lanka"},{value:"SD",name:"Sudan"},{value:"SR",name:"Suriname"},{value:"SJ",name:"Svalbard and Jan Mayen"},{value:"SZ",name:"Swaziland"},{value:"SE",name:"Sweden"},{value:"CH",name:"Switzerland"},{value:"SY",name:"Syrian Arab Republic"},{value:"TW",name:"Taiwan, Province of China"},{value:"TJ",name:"Tajikistan"},{value:"TZ",name:"Tanzania, United Republic of"},{value:"TH",name:"Thailand"},{value:"TL",name:"Timor-Leste"},{value:"TG",name:"Togo"},{value:"TK",name:"Tokelau"},{value:"TO",name:"Tonga"},{value:"TT",name:"Trinidad and Tobago"},{value:"TN",name:"Tunisia"},{value:"TR",name:"Turkey"},{value:"TM",name:"Turkmenistan"},{value:"TC",name:"Turks and Caicos Islands"},{value:"TV",name:"Tuvalu"},{value:"UG",name:"Uganda"},{value:"UA",name:"Ukraine"},{value:"AE",name:"United Arab Emirates"},{value:"US",name:"United States"},{value:"UM",name:"United States Minor Outlying Islands"},{value:"UY",name:"Uruguay"},{value:"UZ",name:"Uzbekistan"},{value:"VU",name:"Vanuatu"},{value:"VE",name:"Venezuela, Bolivarian Republic of"},{value:"VN",name:"Viet Nam"},{value:"VG",name:"Virgin Islands, British"},{value:"VI",name:"Virgin Islands, U.S."},{value:"WF",name:"Wallis and Futuna"},{value:"EH",name:"Western Sahara"},{value:"YE",name:"Yemen"},{value:"ZM",name:"Zambia"},{value:"ZW",name:"Zimbabwe"}],Te=[{name:"Primary",value:"primary"},{name:"Secondary",value:"secondary"},{name:"Home",value:"home"},{name:"Work",value:"work"},{name:"Forwarding",value:"forwarding"},{name:"Company",value:"company"},{name:"Previous",value:"previous"}],be=(r,d)=>()=>{r(!d)},ta=({form:r})=>{var v,m,h,p,A,y,b,S,M,I,F,Y,j,K,z,q,V,W,J,Z,C,R,D,Q,te,le,de,oe,ce,U,he,Re,De,_e,Fe,Ve,We,ze,He,Ke,qe,Ue;const[d,n]=P.useState(!1),[t,l]=P.useState(!1),{register:i,formState:{errors:s}}=r;return a(ee,{children:[e("div",{className:B,children:e(O,{hasGreyText:!0,hasNoMargin:!0,children:"Provide up to three addresses for your contact. All addresses are optional, only primary address is shown by default."})}),e(O,{children:"Primary Address"}),a(ie,{className:me(B,N),children:[e(c,{children:a(o,{children:[a(ne,{...i("primaryAddress.type"),defaultValue:"primary",children:[e("option",{value:"",children:"None selected"},"default-option"),Te.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Address Type"})]})}),a(c,{children:[e(o,{...i("primaryAddress.buildingName"),type:"text",label:"Building Name",placeholder:"Name of the building"}),((m=(v=s.primaryAddress)==null?void 0:v.buildingName)==null?void 0:m.message)&&e(g,{message:s.primaryAddress.buildingName.message})]}),a(c,{children:[e(o,{...i("primaryAddress.buildingNumber"),type:"text",label:"Building Number",placeholder:"Number of the building"}),((p=(h=s.primaryAddress)==null?void 0:h.buildingNumber)==null?void 0:p.message)&&e(g,{message:s.primaryAddress.buildingNumber.message})]}),a(c,{children:[e(o,{...i("primaryAddress.line1"),type:"text",label:"Line 1",placeholder:"Address line 1"}),((y=(A=s.primaryAddress)==null?void 0:A.line1)==null?void 0:y.message)&&e(g,{message:s.primaryAddress.line1.message})]}),a(c,{children:[e(o,{...i("primaryAddress.line2"),type:"text",label:"Line 2",placeholder:"Address line 2"}),((S=(b=s.primaryAddress)==null?void 0:b.line2)==null?void 0:S.message)&&e(g,{message:s.primaryAddress.line2.message})]}),a(c,{children:[e(o,{...i("primaryAddress.line3"),type:"text",label:"Line 3",placeholder:"Address line 3"}),((I=(M=s.primaryAddress)==null?void 0:M.line3)==null?void 0:I.message)&&e(g,{message:s.primaryAddress.line3.message})]}),a(c,{children:[e(o,{...i("primaryAddress.line4"),type:"text",label:"Line 4",placeholder:"Address line 4"}),((Y=(F=s.primaryAddress)==null?void 0:F.line4)==null?void 0:Y.message)&&e(g,{message:s.primaryAddress.line4.message})]}),a(c,{children:[e(o,{...i("primaryAddress.postcode"),type:"text",label:"Post Code",placeholder:"Address post code"}),((K=(j=s.primaryAddress)==null?void 0:j.postcode)==null?void 0:K.message)&&e(g,{message:s.primaryAddress.postcode.message})]}),e(c,{children:a(o,{children:[a(ne,{...i("primaryAddress.countryId"),defaultValue:"GB",children:[e("option",{value:"",children:"None selected"},"default-option"),we.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Country"})]})})]}),d?a(ee,{children:[e(O,{children:"Secondary Address"}),a(ie,{className:me(B,N),children:[e(c,{children:a(o,{children:[a(ne,{...i("secondaryAddress.type"),defaultValue:"secondary",children:[e("option",{value:"",children:"None selected"},"default-option"),Te.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Address Type"})]})}),a(c,{children:[e(o,{...i("secondaryAddress.buildingName"),type:"text",label:"Building Name",placeholder:"Name of the building"}),((q=(z=s.secondaryAddress)==null?void 0:z.buildingName)==null?void 0:q.message)&&e(g,{message:s.secondaryAddress.buildingName.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.buildingNumber"),type:"text",label:"Building Number",placeholder:"Number of the building"}),((W=(V=s.secondaryAddress)==null?void 0:V.buildingNumber)==null?void 0:W.message)&&e(g,{message:s.secondaryAddress.buildingNumber.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.line1"),type:"text",label:"Line 1",placeholder:"Address line 1"}),((Z=(J=s.secondaryAddress)==null?void 0:J.line1)==null?void 0:Z.message)&&e(g,{message:s.secondaryAddress.line1.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.line2"),type:"text",label:"Line 2",placeholder:"Address line 2"}),((R=(C=s.secondaryAddress)==null?void 0:C.line2)==null?void 0:R.message)&&e(g,{message:s.secondaryAddress.line2.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.line3"),type:"text",label:"Line 3",placeholder:"Address line 3"}),((Q=(D=s.secondaryAddress)==null?void 0:D.line3)==null?void 0:Q.message)&&e(g,{message:s.secondaryAddress.line3.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.line4"),type:"text",label:"Line 4",placeholder:"Address line 4"}),((le=(te=s.secondaryAddress)==null?void 0:te.line4)==null?void 0:le.message)&&e(g,{message:s.secondaryAddress.line4.message})]}),a(c,{children:[e(o,{...i("secondaryAddress.postcode"),type:"text",label:"Post Code",placeholder:"Address post code"}),((oe=(de=s.secondaryAddress)==null?void 0:de.postcode)==null?void 0:oe.message)&&e(g,{message:s.secondaryAddress.postcode.message})]}),e(c,{children:a(o,{children:[a(ne,{...i("secondaryAddress.countryId"),defaultValue:"GB",children:[e("option",{value:"",children:"None selected"},"default-option"),we.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Country"})]})})]}),e("div",{className:re,children:e(_,{onClick:be(n,d),intent:"low",children:"Remove Secondary Address"})})]}):e("div",{className:re,children:e(_,{onClick:be(n,d),intent:"low",children:"Add Secondary Address"})}),t?a(ee,{children:[e(O,{children:"Work Address"}),a(ie,{className:me(B,N),children:[e(c,{children:a(o,{children:[a(ne,{...i("workAddress.type"),defaultValue:"work",children:[e("option",{value:"",children:"None selected"},"default-option"),Te.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Address Type"})]})}),a(c,{children:[e(o,{...i("workAddress.buildingName"),type:"text",label:"Building Name",placeholder:"Name of the building"}),((U=(ce=s.workAddress)==null?void 0:ce.buildingName)==null?void 0:U.message)&&e(g,{message:s.workAddress.buildingName.message})]}),a(c,{children:[e(o,{...i("workAddress.buildingNumber"),type:"text",label:"Building Number",placeholder:"Number of the building"}),((Re=(he=s.workAddress)==null?void 0:he.buildingNumber)==null?void 0:Re.message)&&e(g,{message:s.workAddress.buildingNumber.message})]}),a(c,{children:[e(o,{...i("workAddress.line1"),type:"text",label:"Line 1",placeholder:"Address line 1"}),((_e=(De=s.workAddress)==null?void 0:De.line1)==null?void 0:_e.message)&&e(g,{message:s.workAddress.line1.message})]}),a(c,{children:[e(o,{...i("workAddress.line2"),type:"text",label:"Line 2",placeholder:"Address line 2"}),((Ve=(Fe=s.workAddress)==null?void 0:Fe.line2)==null?void 0:Ve.message)&&e(g,{message:s.workAddress.line2.message})]}),a(c,{children:[e(o,{...i("workAddress.line3"),type:"text",label:"Line 3",placeholder:"Address line 3"}),((ze=(We=s.workAddress)==null?void 0:We.line3)==null?void 0:ze.message)&&e(g,{message:s.workAddress.line3.message})]}),a(c,{children:[e(o,{...i("workAddress.line4"),type:"text",label:"Line 4",placeholder:"Address line 4"}),((Ke=(He=s.workAddress)==null?void 0:He.line4)==null?void 0:Ke.message)&&e(g,{message:s.workAddress.line4.message})]}),a(c,{children:[e(o,{...i("workAddress.postcode"),type:"text",label:"Post Code",placeholder:"Address post code"}),((Ue=(qe=s.workAddress)==null?void 0:qe.postcode)==null?void 0:Ue.message)&&e(g,{message:s.workAddress.postcode.message})]}),e(c,{children:a(o,{children:[a(ne,{...i("workAddress.countryId"),defaultValue:"GB",children:[e("option",{value:"",children:"None selected"},"default-option"),we.map(({name:H,value:k})=>e("option",{value:k,children:H},k))]}),e(x,{children:"Country"})]})})]}),e("div",{className:re,children:e(_,{onClick:be(l,t),intent:"low",children:"Remove Work Address"})})]}):e("div",{className:re,children:e(_,{onClick:be(l,t),intent:"low",children:"Add Work Address"})})]})},Ea=(r,d,n,t)=>()=>{const l=((t==null?void 0:t._embedded)??{}).negotiators??[],i=(r==null?void 0:r._embedded)??[],s=n("negotiatorIds")??"",v=[...l,...i].map(({id:m,name:h})=>({value:m??"",name:h??""}));d(m=>{const h=m.filter(({value:p})=>s.includes(p));return Ge([...h,...v])})},Ga=(r,d,n,t)=>()=>{const l=((t==null?void 0:t._embedded)??{}).source,i=l?[l]:[],s=(r==null?void 0:r._embedded)??[],v=n("source")??"",m=[...s,...i].map(({id:h,name:p,type:A})=>({value:`${h}-${A}`,name:p??""}));d(h=>{const p=h.filter(({value:A})=>v.includes(A));return Ge([...p,...m])})},xa=(r,d,n,t)=>()=>{const l=((t==null?void 0:t._embedded)??{}).offices??[],i=(r==null?void 0:r._embedded)??[],s=n("officeIds")??"",v=[...l,...i].map(({id:m,name:h})=>({value:m??"",name:h??""}));d(m=>{const h=m.filter(({value:p})=>s.includes(p));return Ge([...h,...v])})},la=({form:r,contact:d})=>{var D,Q,te,le,de,oe,ce;const[n,t]=P.useState(""),[l,i]=P.useState(""),[s,v]=P.useState(""),[m,h]=P.useState([]),[p,A]=P.useState([]),[y,b]=P.useState([]),{register:S,getValues:M,formState:{errors:I}}=r,F=P.useCallback(Ae(U=>t(U.target.value),500),[500]),Y=P.useCallback(Ae(U=>i(U.target.value),500),[500]),j=P.useCallback(Ae(U=>v(U.target.value),500),[500]),[K]=$({path:"/sources",queryParams:{name:l,pageSize:10},fetchWhenTrue:[l]}),[z]=$({path:"/configuration/contactCategories",queryParams:{pageSize:100}}),[q]=$({path:"/negotiators",queryParams:{pageSize:10,name:n},fetchWhenTrue:[n]}),[V]=$({path:"/offices",queryParams:{pageSize:10,name:s},fetchWhenTrue:[s]});P.useEffect(Ea(q,h,M,d),[q,d]),P.useEffect(Ga(K,A,M,d),[K,d]),P.useEffect(xa(V,b,M,d),[V,d]);const W=((D=M("negotiatorIds"))==null?void 0:D.split(",").filter(Boolean))??[],J=((Q=M("officeIds"))==null?void 0:Q.split(",").filter(Boolean))??[],Z=((te=M("categoryIds"))==null?void 0:te.split(",").filter(Boolean))??[],C=M("source"),R=C?[C]:[];return a(ee,{children:[e("div",{className:B,children:e(O,{hasGreyText:!0,hasNoMargin:!0,children:"Provide information here relating to your Reapit organisation & office."})}),a(ie,{className:N,children:[a(ge,{children:[e(o,{onChange:Y,icon:"searchSystem",placeholder:"Search",label:"Source"}),e(fe,{id:"source-select",...S("source"),options:p,defaultValues:R}),((le=I.source)==null?void 0:le.message)&&e(g,{message:I.source.message})]}),a(ge,{children:[e(o,{onChange:F,icon:"searchSystem",placeholder:"Search",label:"Negotiators"}),e(fe,{id:"negotiators-select",...S("negotiatorIds"),options:m,defaultValues:W}),((de=I.negotiatorIds)==null?void 0:de.message)&&e(g,{message:I.negotiatorIds.message})]}),a(ge,{children:[e(o,{onChange:j,icon:"searchSystem",placeholder:"Search",label:"Offices"}),e(fe,{id:"offices-select",...S("officeIds"),options:y,defaultValues:J}),((oe=I.officeIds)==null?void 0:oe.message)&&e(g,{message:I.officeIds.message})]}),z&&z.length&&a(ge,{children:[e(x,{children:"Categories"}),e(fe,{id:"categories-select",...S("categoryIds"),options:z.map(({value:U,id:he})=>({value:he??"",name:U??""})),defaultValues:Z}),((ce=I.categoryIds)==null?void 0:ce.message)&&e(g,{message:I.categoryIds.message})]})]})]})},Ra=(r,d,n,t)=>()=>{(async()=>{let i=!1;switch(d){case"1":i=await n(["title","dateOfBirth","forename","surname"]);break;case"2":i=await n(["homePhone","workPhone","mobilePhone","email","marketingConsent","communicationPreferenceEmail","communicationPreferencePhone","communicationPreferenceLetter","communicationPreferenceSMS"]);break;case"3":i=await n(["primaryAddress","secondaryAddress","workAddress"]);break;case"4":default:i=await n(["negotiatorIds","categoryIds","officeIds","source"]);break}i&&t(r)})()},Da=(r,d)=>async n=>{const{source:t,categoryIds:l,negotiatorIds:i,officeIds:s}=n,v={...n,categoryIds:l==null?void 0:l.split(",").filter(Boolean),negotiatorIds:i==null?void 0:i.split(",").filter(Boolean),officeIds:s==null?void 0:s.split(",").filter(Boolean),source:{id:t==null?void 0:t.split("-")[0],type:t==null?void 0:t.split("-")[1]}};await r(v)&&d(xe.CONTACTS_LIST)},_a=()=>{const[r,d]=P.useState("1"),n=Ie(),{isTablet:t,isMobile:l}=pa(),i=Ee({resolver:na(sa)}),{handleSubmit:s,trigger:v}=i,[m,,,{isLoading:h}]=Oe({path:"/contacts",successMessage:"Contact created successfully"}),p=String(Number(r)+1);return a(Be,{children:[e(Me,{children:"Contacts New"}),a("form",{children:[e(ga,{steps:[{item:"1",content:e(ia,{form:i})},{item:"2",content:e(ra,{form:i})},{item:"3",content:e(ta,{form:i})},{item:"4",content:e(la,{form:i})}],selectedStep:r,onStepClick:d}),e(Ne,{className:me(B,!t&&!l&&fa),alignment:"left",children:r==="4"?e(_,{intent:"critical",onClick:s(Da(m,n)),size:2,chevronRight:!0,type:"button",disabled:h,loading:h,children:"Create"}):e(_,{intent:"primary",onClick:Ra(p,r,v,d),size:2,chevronRight:!0,type:"button",disabled:h,loading:h,children:"Next"})})]})]})},Fa=({contact:r})=>{var J,Z;const{title:d,forename:n,surname:t,negotiatorIds:l,primaryAddress:i,officeIds:s,workAddress:v,secondaryAddress:m,mobilePhone:h,homePhone:p,workPhone:A,email:y,categoryIds:b,source:S,active:M,marketingConsent:I,communicationPreferenceLetter:F,communicationPreferenceEmail:Y,communicationPreferencePhone:j,communicationPreferenceSMS:K}=r??{},[z]=$({path:"/negotiators",queryParams:{id:l},fetchWhenTrue:[l==null?void 0:l.length]}),[q]=$({path:"/offices",queryParams:{id:s},fetchWhenTrue:[s==null?void 0:s.length]}),[V]=$({path:"/sources",queryParams:{id:S==null?void 0:S.id},fetchWhenTrue:[S==null?void 0:S.id]}),[W]=$({path:"/configuration/contactCategories",queryParams:{id:b},fetchWhenTrue:[b==null?void 0:b.length]});return r?a(ya,{children:[e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"applicantInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Contact Name"}),e(O,{hasGreyText:!0,children:Le(d,n,t)})]})]})}),e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"feedInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Active Status"}),a("div",{children:[e(aa,{intent:M?"success":"danger"})," ",M?"Active":"Inactive"]})]})]})}),h&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"phoneInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Mobile Phone"}),e(O,{hasGreyText:!0,children:h})]})]})}),p&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"phoneInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Home Phone"}),e(O,{hasGreyText:!0,children:p})]})]})}),A&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"phoneInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Work Phone"}),e(O,{hasGreyText:!0,children:A})]})]})}),y&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"mailInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Email"}),e(O,{hasGreyText:!0,children:y})]})]})}),i&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"houseInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Primary Address"}),e(O,{hasGreyText:!0,children:Ce(i)})]})]})}),m&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"houseInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Secondary Address"}),e(O,{hasGreyText:!0,children:Ce(m)})]})]})}),v&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"houseInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Work Address"}),e(O,{hasGreyText:!0,children:Ce(v)})]})]})}),z&&l&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"vendorInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Negotiators"}),l==null?void 0:l.map(C=>{var R,D;return e(X,{children:((D=(R=z._embedded)==null?void 0:R.find(Q=>Q.id===C))==null?void 0:D.name)??""},C)})]})]})}),q&&s&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"flatInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Offices"}),s==null?void 0:s.map(C=>{var R,D;return e(X,{children:((D=(R=q._embedded)==null?void 0:R.find(Q=>Q.id===C))==null?void 0:D.name)??""},C)})]})]})}),W&&W.length&&b&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"listInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Categories"}),b==null?void 0:b.map(C=>{var R;return e(X,{children:((R=W==null?void 0:W.find(D=>D.id===C))==null?void 0:R.value)??""},C)})]})]})}),V&&S&&e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"webInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Source"}),e(X,{children:((Z=(J=V==null?void 0:V._embedded)==null?void 0:J.find(C=>C.id===(S==null?void 0:S.id)))==null?void 0:Z.name)??""})]})]})}),e(L,{className:N,children:a(w,{children:[e(T,{className:E,icon:"shieldInfographic",iconSize:"medium"}),a("div",{children:[e(G,{hasNoMargin:!0,children:"Marketing Preferences"}),e(X,{children:I==="grant"?"Has Marketing Consent":I==="Deny"?"No Marketing Consent":"Marketing Consent Not Requested"}),e(X,{children:F?"Prefers Letter Communications":"Does Not Prefer Letter Communications"}),e(X,{children:Y?"Prefers Email Communications":"Does Not Prefer Email Communications"}),e(X,{children:j?"Prefers Phone Communications":"Does Not Prefer Phone Communications"}),e(X,{children:K?"Prefers SMS Communications":"Does Not Prefer SMS Communications"})]})]})})]}):null},Va=(r,d,n)=>t=>{(async()=>{const i=t.target.value,{pathname:s}=window.location;s.includes("personal")&&await r(["title","dateOfBirth","forename","surname"]),s.includes("communications")&&await r(["homePhone","workPhone","mobilePhone","email","marketingConsent","communicationPreferenceEmail","communicationPreferencePhone","communicationPreferenceLetter","communicationPreferenceSMS"]),s.includes("addresses")&&await r(["primaryAddress","secondaryAddress","workAddress"]),s.includes("office")&&await r(["negotiatorIds","categoryIds","officeIds","source"]),n&&d(`/contacts/${n}/${i}`)})()},Wa=(r,d)=>async n=>{const{source:t,categoryIds:l,negotiatorIds:i,officeIds:s,metaData:v}=n,m={...n,metadata:String(v)===String({})?void 0:v,categoryIds:l==null?void 0:l.split(",").filter(Boolean),negotiatorIds:i==null?void 0:i.split(",").filter(Boolean),officeIds:s==null?void 0:s.split(",").filter(Boolean),source:{id:t==null?void 0:t.split("-")[0],type:t==null?void 0:t.split("-")[1]}};await r(m)&&d(xe.CONTACTS_LIST)},za=(r,d)=>()=>{var n,t,l;if(r){const i=ve(r),s=ve(i==null?void 0:i.primaryAddress),v=ve(i==null?void 0:i.primaryAddress),m=ve(i==null?void 0:i.primaryAddress);d({...i,primaryAddress:s,secondaryAddress:v,workAddress:m,source:r!=null&&r.source?`${r.source.id}-${r.source.type}`:"",categoryIds:(n=r==null?void 0:r.categoryIds)==null?void 0:n.join(","),negotiatorIds:(t=r==null?void 0:r.negotiatorIds)==null?void 0:t.join(","),officeIds:(l=r==null?void 0:r.officeIds)==null?void 0:l.join(",")})}},Ha=()=>{const r=Ie(),d=Ze(),{contactId:n}=Qe(),{pathname:t}=d,[l,i]=$({path:`/contacts/${n}`,fetchWhenTrue:[n],queryParams:{embed:["offices","negotiators","source"]}}),[s,,,{isLoading:v}]=Oe({path:`/contacts/${n}`,method:"PATCH",headers:{"if-match":(l==null?void 0:l._eTag)??""},successMessage:"Contact updated successfully"}),m=Ee({resolver:na(sa)}),{handleSubmit:h,trigger:p,reset:A,formState:{isValid:y,isValidating:b}}=m,{title:S,forename:M,surname:I}=l??{},F=Le(S,M,I);return P.useEffect(za(l,A),[l]),a(Be,{children:[a(Me,{children:["Contact ",F!=="Unknown"&&F]}),e(Sa,{isFullWidth:!0,name:"app-edit-tabs",onChange:Va(p,r,n),options:[{id:"view",value:"view",text:"Overview",isChecked:t.includes("view")},{id:"personal",value:"personal",text:"Personal",isChecked:t.includes("personal")},{id:"communications",value:"communications",text:"Communications",isChecked:t.includes("communications")},{id:"addresses",value:"addresses",text:"Addresses",isChecked:t.includes("addresses")},{id:"office",value:"office",text:"Office Details",isChecked:t.includes("office")}]}),i&&e(ea,{}),a("form",{className:B,children:[e("div",{className:B,children:a(Xe,{children:[e(se,{path:"view",element:e(Fa,{contact:l})}),e(se,{path:"personal",element:e(ia,{form:m})}),e(se,{path:"communications",element:e(ra,{form:m})}),e(se,{path:"addresses",element:e(ta,{form:m})}),e(se,{path:"office",element:e(la,{form:m,contact:l})})]})}),!y&&!b&&!t.includes("view")&&l&&e(Pe,{className:re,isExpanded:!0,isFullWidth:!0,isInline:!0,intent:"danger",children:"There are one or more errors in the form that are preventing you from saving the contact. Please check each section to proceeed."}),!t.includes("view")&&e(Ne,{className:B,alignment:"left",children:e(_,{intent:"critical",onClick:h(Wa(s,r)),size:2,chevronRight:!0,type:"button",disabled:v||!y,loading:v,children:"Update"})})]}),!i&&!l&&e(Pe,{isExpanded:!0,isFullWidth:!0,isInline:!0,intent:"secondary",children:"Contact not found"})]})},{CONTACTS_LIST:je,CONTACTS_NEW:Je}=xe,Xa=()=>{var s;const r=Ie(),d=Ze(),{"*":n}=Qe(),{pathname:t}=d,l=!t.includes(je)&&!t.includes(Je),i=(s=window.__REAPIT_MARKETPLACE_GLOBALS__)==null?void 0:s.cntCode;return i&&!window.location.pathname.includes(i)?(window.__REAPIT_MARKETPLACE_GLOBALS__.cntCode=null,e(oa,{to:`${i}/view`,replace:!0})):a(w,{isFlexAuto:!0,children:[a(ba,{children:[e(Me,{children:"Contacts"}),a(Ca,{className:Aa,children:[e(ke,{onClick:ue(r,je),active:t.includes("list"),children:"List"}),e(ke,{onClick:ue(r,Je),active:t.includes("new"),children:"New"}),l&&n&&e(ke,{onClick:ue(r,n),active:l,children:"Details"})]}),e(T,{className:$e,icon:"leadGenerationInfographic",iconSize:"large"}),e(Ye,{hasGreyText:!0,children:"This app provides the full search, view, edit and delete capabilities for your contacts."}),e(Ye,{hasGreyText:!0,children:"For more information, please click the link below."}),e(_,{className:$e,intent:"neutral",children:"Docs"})]}),e(Na,{className:me(Pa,Ia),children:a(Xe,{children:[e(se,{path:":contactId/*",element:e(Ha,{})}),e(se,{path:"list",element:e(Oa,{})}),e(se,{path:"new",element:e(_a,{})})]})})]})};export{Xa as ContactsPage,Xa as default};
