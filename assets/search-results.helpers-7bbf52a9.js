var d=Object.defineProperty;var h=(e,o,s)=>o in e?d(e,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[o]=s;var t=(e,o,s)=>(h(e,typeof o!="symbol"?o+"":o,s),s);import{d as w}from"./app-1088c2df.js";import"./index-b3f50da9.js";import"./elements-7fcf5525.js";import{w as y}from"./index-c5c95794.js";import{a as g}from"./routes-4ccd8c9c.js";import{g as f}from"./rooms-naming-0ec8ee01.js";const $="c1ckx7vt",S="c1ed5w3r",T="d162s632",M={ctaFound:"c15t7nxj"};class P{constructor(){t(this,"number");t(this,"numberInString");t(this,"isNegative")}withIntl(o,s){if(this.number=Math.abs(o??0),this.numberInString=`${this.number}`,this.isNegative=`${o}`.startsWith("-"),!this.number)return"0";let r={notation:"compact"};return s!=null&&s.currencySymbol&&(r={...r,currency:"GBP",style:"currency"}),Intl.NumberFormat("en-GB",r).format(this.isNegative?-this.number:this.number)}}const i=(e,o)=>{if(typeof e!="string"||typeof o!="string")return null;const s=n=>window.encodeURIComponent(n).replace(/[()]/g,"\\$&"),r=s(e.toLocaleLowerCase()).match(s(o.toLocaleLowerCase()));return r!=null&&r.length?e:null},L=(e,o)=>o.find(r=>{var n,u,m,l,b;return i(r==null?void 0:r.name,e.name)||i((n=r==null?void 0:r.primaryAddress)==null?void 0:n.postcode,e.address)||i(r==null?void 0:r.email,(u=e==null?void 0:e.contactDetail)==null?void 0:u[0])||i(r==null?void 0:r.mobilePhone,(m=e.contactDetail)==null?void 0:m[0])||i(r==null?void 0:r.homePhone,(l=e.contactDetail)==null?void 0:l[0])||i(r==null?void 0:r.workPhone,(b=e.contactDetail)==null?void 0:b[0])})??o[0],v=e=>(e==null?void 0:e.mobilePhone)??(e==null?void 0:e.homePhone)??(e==null?void 0:e.workPhone),B=(e,o,s)=>o.map(r=>{var n,u,m;if((n=r.related)!=null&&n.length){const l=L(e,r.related),b=v(l);return{cells:[{label:"Applicant Name",value:l.name??"-",narrowTable:{showLabel:!0,order:1},className:T},{label:"Email",value:l.email??"-",narrowTable:{showLabel:!0,order:4}},{label:"Phone",value:b??"-",narrowTable:{showLabel:!0,order:2}},{label:"Postcode",value:(u=l.primaryAddress)!=null&&u.postcode?(m=l.primaryAddress)==null?void 0:m.postcode:"-",narrowTable:{showLabel:!0,order:5}},{label:"Type",value:r.marketingMode==="buying"?"Sales":"Lettings",narrowTable:{showLabel:!0,order:3}},{label:"Price Range",value:I(r),narrowTable:{showLabel:!0,order:7}},{label:"No. of Bedrooms",value:y(f(r,"bedrooms")),narrowTable:{showLabel:!0,order:6}},{label:"Created At",value:w(r.created).format("DD MMM YYYY HH:mm A"),narrowTable:{showLabel:!0,order:8},className:S}],ctaContent:{headerContent:"Edit",icon:"editSolidSystem",onClick:()=>s(`${g.REGISTRATION}/${r.id}`)}}}return{cells:[]}}),I=e=>{var n,u,m,l;const o=new P;let s="0",r="0";return e.marketingMode==="buying"?(s=o.withIntl((n=e==null?void 0:e.buying)==null?void 0:n.priceFrom,{currencySymbol:!0}),r=o.withIntl((u=e==null?void 0:e.buying)==null?void 0:u.priceTo,{currencySymbol:!0})):(s=o.withIntl((m=e==null?void 0:e.renting)==null?void 0:m.rentFrom,{currencySymbol:!0}),r=o.withIntl((l=e==null?void 0:e.renting)==null?void 0:l.rentTo,{currencySymbol:!0})),`${s} to ${r}`};export{v as a,$ as c,B as g,M as s};
