import{j as r}from"./index-b3f50da9.js";import{e as s,c,N as a,X as m,a4 as f,a0 as u,m as i}from"./app-1088c2df.js";const A=o=>{if(o)return i.pick(o,["start","end","typeId","description","propertyId","otherAgentId","organiserId","negotiatorIds","cancelled","officeIds","attendee","accompanied","virtual","isRepeat","negotiatorConfirmed","attendeeConfirmed","propertyConfirmed","followUp","recurrence","localFields"])},E=["start","end","negotiatorConfirmed","attendeeConfirmed","propertyConfirmed","propertyId","otherAgentId","organiserId","negotiatorIds","officeIds","attendee","typeId","accompanied","virtual","isRepeat","cancelled","localFields.allConfirmed","description","localFields.followUpTickBox","followUp.due","followUp.responseId","followUp.notes"],g=o=>e=>{const t=e.target.name;E.includes(t)&&o()},M=o=>{var t,n;let e=i.omit(o,["recurring","localFields"]);return((t=o.recurrence)==null?void 0:t.until)===null&&(e=i.omit(e,["recurrence"])),{...e,followUpOn:(n=e.followUp)==null?void 0:n.due}},T=o=>()=>{const{appointmentId:e,screenType:t}=s(),{state:n}=c();return e?!f.includes(t??"")||!u.ACCESS_EXTENDED_VIEW_APPOINTMENT.includes(n)?r(a,{to:`/${e}`}):(window.history.replaceState({},""),r(o,{})):r(a,{to:m.HOME})},N=(o,e)=>()=>(o||e(),()=>{e()}),w=o=>{const{data:e,openNewAppointmentPage:t,PropertyAppointmentModal:n,AttendeeAppointmentModal:l,EmailConfirmationModal:p,CancelAppointmentModal:d}=o;return[{label:"New Appointment",onClick:e!=null&&e.propertyId?n.openModal:e!=null&&e.attendee?l.openModal:t},{label:"Email Confirmation",onClick:p.openModal},{label:e!=null&&e.cancelled?"Reschedule Appointment":"Cancel Appointment",onClick:d.openModal}]};export{T as e,A as f,w as g,N as h,g as o,M as t};
