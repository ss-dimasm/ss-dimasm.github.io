import{j as r,a as S}from"./index-e8b020c1.js";import{I as M,r as V,k as _,n as b,o as d,v as D,ah as U,V as W,z as w,am as F,l as k,br as y}from"./elements-7fcf5525.js";import{a1 as h,a3 as B,d as q,ad as z}from"./app-fc3be005.js";import{a as Z,C as G}from"./index.esm-70abc844.js";const u=e=>e>=10?e.toString():`0${e}`,J=["00","15","30","45"],H=h.range(0,24).map(u),Y=({minTime:e="00:00",timeInputGroupNames:n=[],...a})=>{const{isMobile:m,isTablet:g,isDesktop:T,isWideScreen:$}=M(),c=Z(),f=c.watch(a.name),[o,R]=V.useState();V.useEffect(()=>{if(!f){R({h:0,m:0});return}const[t,l]=f.split(":");R({h:+t,m:+l})},[f]);const j=(t,l)=>{const i=I=>{if(I>e)return I;let[A,s]=I.split(":");return s=="45"?(s="00",A=u(+A+1)):s=u(+s+15),i(`${A}:${s}`)},O=i(`${u(+t)}:${u(+l)}`);c.setValue(a.name,O,{shouldValidate:!1}),c.trigger(n)},v=t=>l=>{if(!o)return;const i={...o};i[t]=+l.currentTarget.value,j(i.h,i.m),a.onTimeChange&&a.onTimeChange(t,l.currentTarget.value,o)},C=h.get(c.formState.errors,a.name),[x]=e.split(":"),L=H.slice(isNaN(+x)?0:+x,24),N=J.filter(t=>`${o&&o.h!==0?o.h:"23"}:${t}`>e),E=m||g?F:T||$?k:y;return r(G,{name:a.name,control:c.control,render:()=>S(_,{children:[r(E,{children:S(b,{children:[r(d,{children:a.label}),r(D,{"data-testid":`${a.name}-hour-selector`,onChange:v("h"),value:H[(o==null?void 0:o.h)??0],children:L.map(t=>r("option",{value:t,children:t},t))})]})}),r(E,{className:U,children:r(b,{children:r(D,{"data-testid":`${a.name}-minute-selector`,onChange:v("m"),value:o==null?void 0:o.m,children:N.map(t=>r("option",{value:t,children:t},t))})})}),r(W,{children:r(w,{message:C==null?void 0:C.message})})]})})},p=e=>{const n=q(e);if(n.isValid())return n.format(z);throw new Error("Invalid Date")},ee=e=>{let n={buildingName:e==null?void 0:e.buildingName,line1:e==null?void 0:e.line1,line2:e==null?void 0:e.line2,postcode:e==null?void 0:e.postcode};return n=h.omitBy(n,h.isEmpty),B(Object.values(n))},te=e=>{var n;return((n=e==null?void 0:e.attendee)==null?void 0:n.contacts)??null},ne=(e="",n)=>{var a,m;return((m=(a=n==null?void 0:n.appointmentTypes)==null?void 0:a.find(g=>g.id===e))==null?void 0:m.value)??null};export{Y as T,ne as a,te as b,p as c,ee as g,u as p};
